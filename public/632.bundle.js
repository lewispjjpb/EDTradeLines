"use strict";(self.webpackChunkedtradelines=self.webpackChunkedtradelines||[]).push([[632],{632:(t,e,n)=>{n.r(e),n.d(e,{default:()=>j});var o=n(294),r=n(669),a=n.n(r),i=n(970),u=(n(935),n(660));function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}const y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(c,t);var e,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(a){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return f(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={graphData:{}},e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){if(t.data.commodities!==this.props.data.commodities){for(var e=this.props.data.commodities,n=[],o=[],r=[],a=0;a<e.length;a++)n.push(e[a].demand),o.push(e[a].demand*e[a].sellPrice),r.push([e[a].name,e[a].sellPrice]);var i=[{x:n,y:o,type:"scatter",mode:"markers",marker:{color:"#ff9030"},text:r,hoverformat:"~s",hovertemplate:"<i>Commodity:</i> %{text[0]} <br>Total demand: %{x} <br>Unit price: %{text[1]} <br>Total profit potential: %{y}"}];this.setState({graphData:{trace:i,layout:{margin:{t:40,b:50},plot_bgcolor:"#2b2a29",paper_bgcolor:"#2b2a29",font:{color:"#ff9030"},height:410,width:500,responsive:!0,autosize:!0,useResizeHandler:!0,log_x:!0,log_y:!0,xaxis:{title:"total demand"},yaxis:{title:"total potential profit"},title:"Sell to station"}}})}}},{key:"render",value:function(){return o.createElement("div",null,o.createElement(u.Z,{data:this.state.graphData.trace,layout:this.state.graphData.layout}))}}])&&s(e.prototype,n),c}(o.Component);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function d(t,e){return d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},d(t,e)}function b(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},g(t)}const v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(c,t);var e,n,r,a,i=(r=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=g(r);if(a){var n=g(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={graphData:{}},e}return e=c,(n=[{key:"componentDidUpdate",value:function(t){if(t.data.commodities!==this.props.data.commodities){for(var e=this.props.data.commodities,n=[],o=[],r=[],a=0;a<e.length;a++)n.push(e[a].stock),o.push(e[a].stock*e[a].buyPrice),r.push([e[a].name,e[a].buyPrice]);var i=[{x:n,y:o,type:"scatter",mode:"markers",marker:{color:"#ff9030"},text:r,hovertemplate:"<i>Commodity:</i> %{text[0]} <br>Total supply: %{x} <br>Unit price: %{text[1]} <br>Cost to purchase stock: %{y}"}];this.setState({graphData:{trace:i,layout:{margin:{t:40,b:50},plot_bgcolor:"#2b2a29",paper_bgcolor:"#2b2a29",font:{color:"#ff9030"},height:410,width:500,responsive:!0,autosize:!0,useResizeHandler:!0,log_x:!0,log_y:!0,xaxis:{title:"total supply"},yaxis:{title:"total cost to buy"},title:"Buy from station"}}})}}},{key:"render",value:function(){return o.createElement("div",null,o.createElement(u.Z,{data:this.state.graphData.trace,layout:this.state.graphData.layout}))}}])&&m(e.prototype,n),c}(o.Component);var S=n(484);const w=function(t){var e=t.statList;return o.createElement(S.ZP,{onChange:function(e){return e?t.getStation(e):"Type station name..."}},(function(t){var n=t.getInputProps,r=t.getItemProps,a=t.getLabelProps,i=t.getMenuProps,u=t.isOpen,c=t.inputValue,s=t.highlightedIndex,l=t.selectedItem,f=t.getRootProps;return o.createElement("div",{id:"searchbox"},o.createElement("label",a(),"Select a station:  "),o.createElement("div",f({},{suppressRefError:!0}),o.createElement("input",n())),o.createElement("ul",i(),u?e.filter((function(t){return!c||t.includes(c)})).map((function(t,e){return o.createElement("div",r({key:t,index:e,item:t,style:{backgroundColor:s===e?"lightgray":"white",fontWeight:l===t?"bold":"normal"}}),t)})):null))}))};function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function O(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function _(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return x(t)}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}const j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(s,t);var e,n,r,u,c=(r=s,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(u){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function s(t){var e,n,o,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),r=[],(o="statList")in(n=x(e=c.call(this,t)))?Object.defineProperty(n,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[o]=r,e.state={currentStation:{},stationList:[],activeSuggestion:0,filtered:[],showSuggestions:!1,queueStation:""},e.getStation=e.getStation.bind(x(e)),e.populateStationList=e.populateStationList.bind(x(e)),e.setStation=e.setStation.bind(x(e)),e.getNewStation=e.getNewStation.bind(x(e)),e}return e=s,(n=[{key:"componentDidMount",value:function(){this.getStation("Abernathy City"),this.populateStationList()}},{key:"getStation",value:function(t){var e=this;a().get("/market/".concat(t)).then((function(t){return e.setState({currentStation:t.data[0]})})).then(console.log("station loaded")).catch("error in getStation?")}},{key:"populateStationList",value:function(){var t=this;a().get("/stations").then((function(e){console.log("headers: ",e.headers),t.setState({stationList:e.data}),t.statList=e.data,console.log("set statList")}))}},{key:"setStation",value:function(t){t.preventDefault();var e=t.target.value,n=this.statList.filter((function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}));this.setState({activeSuggestion:0,filtered:n,showSuggestions:!0,queueStation:t.target.value})}},{key:"selectStationFromList",value:function(t){this.setState({activeSuggestion:0,filtered:[],showSuggestions:!1,queueStation:t.currentTarget.innerText})}},{key:"getNewStation",value:function(t){t.preventDefault();var e=this.state.queueStation;this.getStation(e)}},{key:"render",value:function(){return o.createElement("div",{className:"container"},o.createElement("div",{className:"header"},o.createElement("div",null,"Current station: ",o.createElement("b",null,this.state.currentStation.stationName,"   "),"--- Market data age: ",(0,i.WU)(this.state.currentStation.date)," "),o.createElement(w,{statList:this.state.stationList,getStation:this.getStation})),o.createElement("div",{className:"main"},o.createElement("div",null,o.createElement(y,{data:this.state.currentStation})),o.createElement("div",null,o.createElement(v,{data:this.state.currentStation}))),o.createElement("div",{className:"footer"},o.createElement("em",null,"Hey!  I'm looking for work as a developer!  Check out my ",o.createElement("a",{href:"https://www.linkedin.com/in/patrick-lewis-ms-pmp-34aaa254/",color:"white"},"LinkedIn")," and ",o.createElement("a",{href:"https://github.com/lewispjjpb"}," GitHub")," profiles!")))}}])&&O(e.prototype,n),s}(o.Component)}}]);