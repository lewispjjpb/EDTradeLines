"use strict";(self.webpackChunkedtradelines=self.webpackChunkedtradelines||[]).push([[922],{922:(t,e,o)=>{o.r(e),o.d(e,{default:()=>A});var r=o(294),n=o(669),a=o.n(n),i=o(970),l=(o(935),o(660));function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},u(t,e)}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}const m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(c,t);var e,o,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=y(n);if(a){var o=y(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return f(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={graphData:{}},e.valueClick=e.valueClick.bind(p(e)),e}return e=c,(o=[{key:"valueClick",value:function(t){for(var e="",o=0;o<t.points.length;o++)e=t.points[o].text;this.props.getCommodityDetails(e[0])}},{key:"componentDidUpdate",value:function(t){if(t.data.commodities!==this.props.data.commodities){for(var e=this.props.data.commodities,o=[],r=[],n=[],a=0;a<e.length;a++)o.push(e[a].stock),r.push(e[a].stock*e[a].buyPrice),n.push([e[a].name,e[a].buyPrice]);var i=[{x:o,y:r,type:"scatter",mode:"markers",marker:{color:"#ff9030"},text:n,hovertemplate:"<i>Commodity:</i> %{text[0]} <br>Total supply: %{x} <br>Unit price: %{text[1]} <br>Cost to purchase stock: %{y}"}],l=this.valueClick;this.setState({graphData:{trace:i,layout:{margin:{t:40,b:50},plot_bgcolor:"#2b2a29",paper_bgcolor:"#2b2a29",font:{color:"#ff9030"},height:510,width:600,responsive:!0,autosize:!0,useResizeHandler:!0,log_x:!0,log_y:!0,xaxis:{title:"total supply",color:"#66adee"},yaxis:{title:"total cost to buy",color:"#66adee"},title:"Buy from station"},onClick:l}})}}},{key:"render",value:function(){return r.createElement("div",null,r.createElement(l.Z,{data:this.state.graphData.trace,layout:this.state.graphData.layout,onClick:this.state.graphData.onClick,getCommodityDetails:this.props.getCommodityDetails}))}}])&&s(e.prototype,o),c}(r.Component);function d(t){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function h(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}function b(t,e){if(e&&("object"===d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return v(t)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}const w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(c,t);var e,o,n,a,i=(n=c,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(n);if(a){var o=S(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return b(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t)).state={graphData:{}},e.valueClick=e.valueClick.bind(v(e)),e}return e=c,(o=[{key:"valueClick",value:function(t){for(var e="",o=0;o<t.points.length;o++)e=t.points[o].text;this.props.getCommodityDetails(e[0])}},{key:"componentDidUpdate",value:function(t){if(t.data.commodities!==this.props.data.commodities){for(var e=this.props.data.commodities,o=[],r=[],n=[],a=0;a<e.length;a++)o.push(e[a].demand),r.push(e[a].demand*e[a].sellPrice),n.push([e[a].name,e[a].sellPrice]);var i=[{x:o,y:r,type:"scatter",mode:"markers",marker:{color:"#ff9030"},text:n,hoverformat:"~s",hovertemplate:"<i>Commodity:</i> %{text[0]} <br>Total demand: %{x} <br>Unit price: %{text[1]} <br>Total profit potential: %{y}"}],l=this.valueClick;this.setState({graphData:{trace:i,layout:{margin:{t:40,b:50},plot_bgcolor:"#2b2a29",paper_bgcolor:"#2b2a29",font:{color:"#ff9030"},height:510,width:600,responsive:!0,autosize:!0,useResizeHandler:!0,log_x:!0,log_y:!0,xaxis:{title:"total demand",color:"#66adee"},yaxis:{title:"total potential profit",color:"#66adee"},title:"Sell to station"},onClick:l}})}}},{key:"render",value:function(){return r.createElement("div",{id:"selltostation"},r.createElement(l.Z,{data:this.state.graphData.trace,layout:this.state.graphData.layout,onClick:this.state.graphData.onClick,getCommodityDetails:this.props.getCommodityDetails}))}}])&&h(e.prototype,o),c}(r.Component);var k=o(484);function x(){return x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t},x.apply(this,arguments)}const C=function(t){var e=t.statList;return r.createElement(k.ZP,{onChange:function(e){return e?t.getStation(e):""}},(function(t){var o=t.getInputProps,n=t.getItemProps,a=t.getLabelProps,i=t.getMenuProps,l=t.isOpen,c=t.inputValue,s=t.highlightedIndex,u=t.selectedItem,f=t.getRootProps;return r.createElement("div",{id:"searchbox"},r.createElement("label",a(),"Select a station:  "),r.createElement("div",f({},{suppressRefError:!0}),r.createElement("input",x({},o(),{placeholder:"Type station name..."}))),r.createElement("ul",i(),l?e.filter((function(t){return!c||t.toUpperCase().includes(c.toUpperCase())})).map((function(t,e){return r.createElement("div",n({key:t,index:e,item:t,style:{backgroundColor:s===e?"lightgray":"white",fontWeight:u===t?"bold":"normal"}}),t)})):null))}))};function E(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}const O=function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,a=[],i=!0,l=!1;try{for(o=o.call(t);!(i=(r=o.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){l=!0,n=t}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return E(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?E(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)({}),1)[0];if(t.data){for(var o=t.data.markets,n=t.data.commodity,a=[],i=[],c=[],s=0;s<o.length;s++)a.push(o[s].sellPrice),i.push(o[s].demand),c.push([o[s].station,o[s].system]);e.trace=[{x:a,y:i,type:"scatter",mode:"markers",marker:{color:"#ff9030"},text:c,hoverformat:"~s",hovertemplate:"Station name: %{text[0]} <br>System name: %{text[1]} <br>",transforms:[{type:"filter",target:"y",operation:">",value:1}]},{x:a,type:"histogram",marker:{color:"#ff9030"},yaxis:"y2"},{y:i,type:"histogram",marker:{color:"#ff9030"},xaxis:"x2"}],e.layout={title:"".concat(n," for sale around the galaxy:"),margin:{t:40,b:50},plot_bgcolor:"#2b2a29",paper_bgcolor:"#2b2a29",font:{color:"#ff9030"},height:510,width:600,showlegend:!1,mirror:!0,ticks:"outside",showline:!0,xaxis:{domain:[0,.85],showgrid:!1,zeroline:!1,type:"log",title:"price per unit",color:"#66adee"},yaxis:{domain:[0,.85],showgrid:!1,zeroline:!1,type:"log",title:"total demand",color:"#66adee"},xaxis2:{domain:[.85,1],showgrid:!0,zeroline:!1,type:"log"},yaxis2:{domain:[.85,1],showgrid:!1,zeroline:!1,type:"log"}}}return t.data?r.createElement(l.Z,{data:e.trace,layout:e.layout}):r.createElement("div",null,"Click on commodity point above to see more information")};function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}const j=function(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var o=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=o){var r,n,a=[],i=!0,l=!1;try{for(o=o.call(t);!(i=(r=o.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){l=!0,n=t}finally{try{i||null==o.return||o.return()}finally{if(l)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return _(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,r.useState)({}),1)[0];if(t.data){for(var o=t.data.markets,n=t.data.commodity,a=[],i=[],c=[],s=0;s<o.length;s++)a.push(o[s].buyPrice),i.push(o[s].stock),c.push([o[s].station,o[s].system]);e.trace=[{x:a,y:i,type:"scatter",mode:"markers",marker:{color:"#ff9030"},text:c,hoverformat:"~s",hovertemplate:"Station name: %{text[0]} <br>System name: %{text[1]} <br>",transforms:[{type:"filter",target:"y",operation:">",value:1}]},{x:a,type:"histogram",marker:{color:"#ff9030"},yaxis:"y2"},{y:i,type:"histogram",marker:{color:"#ff9030"},xaxis:"x2"}],e.layout={title:"".concat(n," for purchase around the galaxy:"),margin:{t:40,b:50},plot_bgcolor:"#2b2a29",paper_bgcolor:"#2b2a29",font:{color:"#ff9030"},height:510,width:600,showlegend:!1,mirror:!0,ticks:"outside",showline:!0,xaxis:{domain:[0,.85],showgrid:!1,zeroline:!1,type:"log",title:"price per unit",color:"#66adee"},yaxis:{domain:[0,.85],showgrid:!1,zeroline:!1,type:"log",title:"total supply",color:"#66adee"},xaxis2:{domain:[.85,1],showgrid:!0,zeroline:!1,type:"log"},yaxis2:{domain:[.85,1],showgrid:!1,zeroline:!1,type:"log"}}}return t.data?r.createElement(l.Z,{data:e.trace,layout:e.layout}):null};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function P(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){return R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},R(t,e)}function L(t,e){if(e&&("object"===D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return T(t)}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}const A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(s,t);var e,o,n,l,c=(n=s,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=z(n);if(l){var o=z(this).constructor;t=Reflect.construct(e,arguments,o)}else t=e.apply(this,arguments);return L(this,t)});function s(t){var e,o,r,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=[],(r="statList")in(o=T(e=c.call(this,t)))?Object.defineProperty(o,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[r]=n,e.state={currentStation:{},stationList:[],activeSuggestion:0,filtered:[],showSuggestions:!1,queueStation:"",commodS:null,commodB:null},e.getStation=e.getStation.bind(T(e)),e.populateStationList=e.populateStationList.bind(T(e)),e.setStation=e.setStation.bind(T(e)),e.getNewStation=e.getNewStation.bind(T(e)),e.getCommodityDetails=e.getCommodityDetails.bind(T(e)),e}return e=s,(o=[{key:"componentDidMount",value:function(){this.getStation("Jameson Memorial"),this.populateStationList()}},{key:"getStation",value:function(t){var e=this;a().get("/market/".concat(t)).then((function(t){return e.setState({currentStation:t.data[0]})})).then(console.log("station loaded")).catch("error in getStation?")}},{key:"populateStationList",value:function(){var t=this;a().get("/stations").then((function(e){t.setState({stationList:e.data}),t.statList=e.data}))}},{key:"setStation",value:function(t){t.preventDefault();var e=t.target.value,o=this.statList.filter((function(t){return t.toLowerCase().indexOf(e.toLowerCase())>-1}));this.setState({activeSuggestion:0,filtered:o,showSuggestions:!0,queueStation:t.target.value})}},{key:"selectStationFromList",value:function(t){this.setState({activeSuggestion:0,filtered:[],showSuggestions:!1,queueStation:t.currentTarget.innerText})}},{key:"getNewStation",value:function(t){t.preventDefault();var e=this.state.queueStation;this.getStation(e)}},{key:"getCommodityDetails",value:function(t){var e=this;a().get("/commoditiesS/".concat(t)).then((function(t){e.setState({commodS:t.data})})).catch((function(t){return console.log(t)})),a().get("/commoditiesB/".concat(t)).then((function(t){e.setState({commodB:t.data})})).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return r.createElement("div",{className:"container"},r.createElement("div",{className:"header"},r.createElement("div",null,"Current station: ",r.createElement("b",null,this.state.currentStation.stationName,"   "),"--- Market data age: ",(0,i.WU)(this.state.currentStation.date)," "),r.createElement(C,{statList:this.state.stationList,getStation:this.getStation})),r.createElement("div",{className:"main"},r.createElement(w,{data:this.state.currentStation,getCommodityDetails:this.getCommodityDetails}),r.createElement(m,{data:this.state.currentStation,getCommodityDetails:this.getCommodityDetails})),r.createElement("div",{className:"main2"},r.createElement(O,{data:this.state.commodS,currentStation:this.state.currentStation}),r.createElement(j,{data:this.state.commodB,currentStation:this.state.currentStation})),r.createElement("div",{className:"footer"},"Hey!  I'm looking for work as a developer!  Check out my ",r.createElement("a",{href:"https://www.linkedin.com/in/patrick-lewis-ms-pmp-34aaa254/",color:"white"},"LinkedIn")," and ",r.createElement("a",{href:"https://github.com/lewispjjpb"}," GitHub")," profiles!"),r.createElement("div",{className:"footer2"},"ED TradeLines is not endorsed by or affiliated with Frontier Developments. | Charts by Plotly"))}}])&&P(e.prototype,o),s}(r.Component)}}]);